let cart=JSON.parse(localStorage.getItem("cart"))||[];const modificarCarrito=()=>{carritoContainer.innerHTML="",carritoContainer.style.display="flex";const a=document.createElement("div");a.className="carrito-sup",a.innerHTML='\n    <h1 class="carritoTitle">Carrito de compras</h1>\n    ',carritoContainer.append(a);const t=document.createElement("h1");t.innerText="x",t.className="carrito-button",t.addEventListener("click",(()=>{carritoContainer.style.display="none"})),a.append(t),cart.forEach((a=>{let t=document.createElement("div");t.className="cart-sup",t.innerHTML=`\n                    <h4><img src="${a.image}"></h4>\n                    <h4>ID: ${a.id}</h4>\n                    <h4>Producto: ${a.name} </h4>\n                    <h4>Precio: $ ${a.price} </h4>\n                    <span class="restar"> ➖ </span>\n                    <h4>Cantidad: ${a.cantidad} </h4>\n                    <span class="sumar"> ➕ </span>\n                    <h4>Total: $ ${a.cantidad*a.price} </h4>\n                    <span class="delete-product" id="deleteProduct"> ❌ </span>\n    `,carritoContainer.append(t),t.querySelector(".restar").addEventListener("click",(()=>{1!==a.cantidad&&a.cantidad--,saveLocal(),modificarCarrito()})),t.querySelector(".sumar").addEventListener("click",(()=>{a.cantidad++,saveLocal(),modificarCarrito()})),t.querySelector(".delete-product").addEventListener("click",(()=>{eliminarProducto(a.id),eliminarCart()}))}));let r=cart.reduce(((a,t)=>a+parseFloat(t.price*t.cantidad)),0);const e=document.createElement("div");e.className="total-content",e.innerHTML=`<button type="button" class="btn-compra">Comprar</button>\n                                Total a pagar: ${r}`,carritoContainer.append(e)};verCarrito.addEventListener("click",modificarCarrito);const eliminarProducto=a=>{const t=cart.find((t=>t.id===a));cart=cart.filter((a=>a!==t)),carritoCantidad(),saveLocal(),modificarCarrito()},carritoCantidad=()=>{cantidadCarrito.style.display="block";const a=cart.length;localStorage.setItem("cartLength",JSON.stringify(a)),cantidadCarrito.innerText=JSON.parse(localStorage.getItem("cartLength"))};carritoCantidad();